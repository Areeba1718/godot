#!/usr/bin/env python

from typing import TYPE_CHECKING

from SCons.Script.SConscript import SConsEnvironment

if TYPE_CHECKING:
    env = SConsEnvironment()
    Import = SConsEnvironment.Import

Import("env")

env.scene_sources = []

# Godot source files
env.add_source_files(env.scene_sources, "*.cpp")

# Chain load SCsubs
env.SConscript("main/SCsub")
env.SConscript("gui/SCsub")
if not env["disable_3d"]:
    env.SConscript("3d/SCsub")
env.SConscript("2d/SCsub")
env.SConscript("animation/SCsub")
env.SConscript("audio/SCsub")
env.SConscript("resources/SCsub")
env.SConscript("debugger/SCsub")
env.SConscript("theme/SCsub")

# Build it all as a library
lib = env.add_library("scene", env.scene_sources)
env.Prepend(LIBS=[lib])
