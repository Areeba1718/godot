def setup_osx(p_env_thirdparty):
    thirdparty_obj = []

    env_thirdparty_0 = p_env_thirdparty.Clone()
    env_thirdparty_0.disable_warnings()
    env_thirdparty_0.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
        ],
    )
    env_thirdparty_0.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/common/third_party/base/anglebase/sha1.cc",
        ],
    )

    env_thirdparty_1 = p_env_thirdparty.Clone()
    env_thirdparty_1.disable_warnings()
    env_thirdparty_1.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu++14",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-DGLSLANG_OSINCLUDE_UNIX",
        ],
    )
    env_thirdparty_1.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/third_party/glslang/src/OGLCompilersDLL/InitializeDll.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/iomapper.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/SpvPostProcess.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/ShaderLang.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/preprocessor/PpTokens.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/preprocessor/PpContext.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/GenericCodeGen/Link.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/pch.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/Logger.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/intermOut.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/SPVRemapper.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/preprocessor/Pp.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/RemoveTree.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/parseConst.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/OSDependent/Unix/ossource.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/Scan.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/InReadableOrder.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/Intermediate.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/InfoSink.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/limits.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/linkValidate.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/ParseContextBase.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/attribute.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/preprocessor/PpScanner.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/GlslangToSpv.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/Versions.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/ParseHelper.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/IntermTraverse.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/StandAlone/ResourceLimits.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/SpvBuilder.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/propagateNoContraction.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/reflection.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/doc.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/SpvTools.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/GenericCodeGen/CodeGen.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/glslang_tab.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/Initialize.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/preprocessor/PpAtom.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/SPIRV/disassemble.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/SymbolTable.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/PoolAlloc.cpp",
            "#thirdparty/metalangle/third_party/glslang/src/glslang/MachineIndependent/Constant.cpp",
        ],
    )

    env_thirdparty_2 = p_env_thirdparty.Clone()
    env_thirdparty_2.disable_warnings()
    env_thirdparty_2.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu++14",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-DLIBEGL_IMPLEMENTATION",
            "-DLIBGLESV2_IMPLEMENTATION",
            "-DLIBANGLE_IMPLEMENTATION",
            "-DSPIRV_CROSS_EXCEPTIONS_TO_ASSERTIONS",
            "-DGL_GLES_PROTOTYPES=1",
            "-DEGL_EGL_PROTOTYPES=1",
            "-DGL_GLEXT_PROTOTYPES",
            "-DEGL_EGLEXT_PROTOTYPES",
        ],
    )
    env_thirdparty_2.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/libGLESv2/entry_points_gles_3_1_autogen.cpp",
            "#thirdparty/metalangle/src/libGLESv2/entry_points_gles_1_0_autogen.cpp",
            "#thirdparty/metalangle/src/libGLESv2/global_state.cpp",
            "#thirdparty/metalangle/src/libGLESv2/entry_points_gles_2_0_autogen.cpp",
            "#thirdparty/metalangle/src/libGLESv2/libGLESv2_autogen.cpp",
            "#thirdparty/metalangle/src/libGLESv2/entry_points_egl_ext.cpp",
            "#thirdparty/metalangle/src/libGLESv2/entry_points_gles_ext_autogen.cpp",
            "#thirdparty/metalangle/src/libGLESv2/proc_table_egl_autogen.cpp",
            "#thirdparty/metalangle/src/libGLESv2/entry_points_egl.cpp",
            "#thirdparty/metalangle/src/libEGL/libEGL.cpp",
            "#thirdparty/metalangle/src/libGLESv2/entry_points_gles_3_0_autogen.cpp",
            "#thirdparty/metalangle/src/libANGLE/ImageIndex.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/QueryImpl.cpp",
            "#thirdparty/metalangle/src/libANGLE/Error.cpp",
            "#thirdparty/metalangle/src/libANGLE/HandleAllocator.cpp",
            "#thirdparty/metalangle/src/libANGLE/Context_gl.cpp",
            "#thirdparty/metalangle/src/libANGLE/Query.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/DisplayImpl.cpp",
            "#thirdparty/metalangle/src/libANGLE/Image.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateGlobalInitializer.cpp",
            "#thirdparty/metalangle/src/compiler/translator/InitializeDll.cpp",
            "#thirdparty/metalangle/src/compiler/translator/IsASTDepthBelowLimit.cpp",
            "#thirdparty/metalangle/src/libANGLE/Shader.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL14.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/driver_utils.cpp",
            "#thirdparty/metalangle/src/libANGLE/Debug.cpp",
            "#thirdparty/metalangle/src/compiler/translator/VersionGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/PruneNoOps.cpp",
            "#thirdparty/metalangle/src/compiler/translator/SymbolUniqueId.cpp",
            "#thirdparty/metalangle/src/compiler/translator/CodeGen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/CallDAG.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/Token.cpp",
            "#thirdparty/metalangle/src/compiler/translator/blocklayout.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/NameEmbeddedUniformStructs.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/UseInterfaceBlockFields.cpp",
            "#thirdparty/metalangle/src/libANGLE/formatutils.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Types.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationES3.cpp",
            "#thirdparty/metalangle/src/libANGLE/Config.cpp",
            "#thirdparty/metalangle/src/compiler/translator/SymbolTable_autogen.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL11.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/IntermNodePatternMatcher.cpp",
            "#thirdparty/metalangle/src/libANGLE/Sampler.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateVaryingLocations.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/DirectiveHandlerBase.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteUnaryMinusOperatorFloat.cpp",
            "#thirdparty/metalangle/src/libANGLE/Uniform.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/Lexer.cpp",
            "#thirdparty/metalangle/src/compiler/translator/OutputGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ExtensionGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/ExpandIntegerPowExpressions.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/SeparateExpressionsReturningArrays.cpp",
            "#thirdparty/metalangle/src/libANGLE/Overlay_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteCubeMapSamplersAs2DArray.cpp",
            "#thirdparty/metalangle/src/libANGLE/Fence.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/DirectiveParser.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL2.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteAtomicFunctionExpressions.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Declarator.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteElseBlocks.cpp",
            "#thirdparty/metalangle/src/libANGLE/FrameCapture.cpp",
            "#thirdparty/metalangle/src/libANGLE/VaryingPacking.cpp",
            "#thirdparty/metalangle/src/libANGLE/MemoryProgramCache.cpp",
            "#thirdparty/metalangle/src/libANGLE/Compiler.cpp",
            "#thirdparty/metalangle/src/third_party/compiler/ArrayBoundsClamper.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ExtensionBehavior.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationES2.cpp",
            "#thirdparty/metalangle/src/libANGLE/OverlayWidgets.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteExpressionsWithShaderStorageBlock.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/Tokenizer.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/FindMain.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteDfdy.cpp",
            "#thirdparty/metalangle/src/libANGLE/Overlay.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/ReplaceVariable.cpp",
            "#thirdparty/metalangle/src/libANGLE/Display.cpp",
            "#thirdparty/metalangle/src/libANGLE/TransformFeedback.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/ArrayReturnValueToOutParameter.cpp",
            "#thirdparty/metalangle/src/compiler/translator/OutputTree.cpp",
            "#thirdparty/metalangle/src/libANGLE/format_map_desktop.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/ReplaceShadowingVariables.cpp",
            "#thirdparty/metalangle/src/libANGLE/angletypes.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/SurfaceImpl.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationES1.cpp",
            "#thirdparty/metalangle/src/compiler/translator/FlagStd140Structs.cpp",
            "#thirdparty/metalangle/src/compiler/translator/DirectiveHandler.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL3.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/UnfoldShortCircuitToIf.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/EmulateGLFragColorBroadcast.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/SplitSequenceOperator.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/InitializeVariables.cpp",
            "#thirdparty/metalangle/src/libANGLE/queryconversions.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/renderer_utils.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteStructSamplers.cpp",
            "#thirdparty/metalangle/src/libANGLE/Path.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ShaderLang.cpp",
            "#thirdparty/metalangle/src/libANGLE/Semaphore.cpp",
            "#thirdparty/metalangle/src/libANGLE/Context.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationEGL.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/DiagnosticsBase.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/FoldExpressions.cpp",
            "#thirdparty/metalangle/src/libANGLE/queryutils.cpp",
            "#thirdparty/metalangle/src/libANGLE/Platform.cpp",
            "#thirdparty/metalangle/src/compiler/translator/IntermNode.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/WrapSwitchStatementsInBlocks.cpp",
            "#thirdparty/metalangle/src/libANGLE/WorkerThread.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/VectorizeVectorScalarArithmetic.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/ClampPointSize.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/IntermNode_util.cpp",
            "#thirdparty/metalangle/src/libANGLE/Stream.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ImmutableString_autogen.cpp",
            "#thirdparty/metalangle/src/libANGLE/Context_gles_1_0.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/AddDefaultReturnStatements.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL21.cpp",
            "#thirdparty/metalangle/src/compiler/translator/HashNames.cpp",
            "#thirdparty/metalangle/src/compiler/translator/FunctionLookup.cpp",
            "#thirdparty/metalangle/src/libANGLE/ResourceManager.cpp",
            "#thirdparty/metalangle/src/compiler/translator/glslang_lex.cpp",
            "#thirdparty/metalangle/src/compiler/translator/TranslatorGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/DeclareAndInitBuiltinsForInstancedMultiview.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/Format_table_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteDoWhile.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RemoveArrayLengthMethod.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Compiler.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Symbol.cpp",
            "#thirdparty/metalangle/src/libANGLE/MemoryObject.cpp",
            "#thirdparty/metalangle/src/compiler/translator/glslang_tab.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL31.cpp",
            "#thirdparty/metalangle/src/compiler/translator/OutputVulkanGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/SimplifyLoopConditions.cpp",
            "#thirdparty/metalangle/src/libANGLE/Caps.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/AddAndTrueToLoopCondition.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/ExpressionParser.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/ContextImpl.cpp",
            "#thirdparty/metalangle/src/libANGLE/ProgramLinkedResources.cpp",
            "#thirdparty/metalangle/src/libANGLE/VertexArray.cpp",
            "#thirdparty/metalangle/src/libANGLE/gl_enum_utils_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/MacroExpander.cpp",
            "#thirdparty/metalangle/src/libANGLE/Observer.cpp",
            "#thirdparty/metalangle/src/libANGLE/State.cpp",
            "#thirdparty/metalangle/src/libANGLE/Program.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/BreakVariableAliasingInInnerLoops.cpp",
            "#thirdparty/metalangle/src/libANGLE/Framebuffer.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/ScalarizeVecAndMatConstructorArgs.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL12.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/IntermTraverse.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/Input.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RemovePow.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RecordConstantPrecision.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationES31.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/UnfoldShortCircuitAST.cpp",
            "#thirdparty/metalangle/src/libANGLE/VertexAttribute.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/TextureImpl.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ShaderVars.cpp",
            "#thirdparty/metalangle/src/compiler/translator/CollectVariables.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/RunAtTheEndOfShader.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ParseContext.cpp",
            "#thirdparty/metalangle/src/libANGLE/Texture.cpp",
            "#thirdparty/metalangle/src/compiler/translator/util.cpp",
            "#thirdparty/metalangle/src/libANGLE/IndexRangeCache.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RemoveInvariantDeclaration.cpp",
            "#thirdparty/metalangle/src/libANGLE/AttributeMap.cpp",
            "#thirdparty/metalangle/src/libANGLE/Buffer.cpp",
            "#thirdparty/metalangle/src/libANGLE/Device.cpp",
            "#thirdparty/metalangle/src/libANGLE/BlobCache.cpp",
            "#thirdparty/metalangle/src/compiler/translator/QualifierTypes.cpp",
            "#thirdparty/metalangle/src/libANGLE/FramebufferAttachment.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateAST.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RegenerateStructNames.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RemoveUnreferencedVariables.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/ShaderImpl.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateMaxParameters.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/SeparateArrayConstructorStatements.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/glslang_wrapper_utils.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/Macro.cpp",
            "#thirdparty/metalangle/src/libANGLE/EGLSync.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RemoveSwitchFallThrough.cpp",
            "#thirdparty/metalangle/src/compiler/translator/TranslatorVulkan.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteRepeatedAssignToSwizzled.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteStructSamplersOld.cpp",
            "#thirdparty/metalangle/src/compiler/translator/OutputESSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RemoveDynamicIndexing.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ConstantUnion.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/NameNamelessUniformBuffers.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/SeparateDeclarations.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/DeviceImpl.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteTexelFetchOffset.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/SeparateArrayInitialization.cpp",
            "#thirdparty/metalangle/src/libANGLE/Overlay_font_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/InfoSink.cpp",
            "#thirdparty/metalangle/src/compiler/translator/BuiltInFunctionEmulator.cpp",
            "#thirdparty/metalangle/src/libANGLE/HandleRangeAllocator.cpp",
            "#thirdparty/metalangle/src/compiler/preprocessor/Preprocessor.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/PruneEmptyCases.cpp",
            "#thirdparty/metalangle/src/compiler/translator/BuiltInFunctionEmulatorGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/FindFunction.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteUnaryMinusOperatorInt.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateOutputs.cpp",
            "#thirdparty/metalangle/src/libANGLE/GLES1Renderer.cpp",
            "#thirdparty/metalangle/src/libANGLE/Surface.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL15.cpp",
            "#thirdparty/metalangle/src/compiler/translator/emulated_builtin_functions_hlsl_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/PoolAlloc.cpp",
            "#thirdparty/metalangle/src/libANGLE/ProgramPipeline.cpp",
            "#thirdparty/metalangle/src/compiler/translator/TranslatorESSL.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL1.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Initialize.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteAtomicCounters.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ImmutableStringBuilder.cpp",
            "#thirdparty/metalangle/src/compiler/translator/VariablePacker.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateLimitations.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Operator.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/EmulatePrecision.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationGL13.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/ReplaceClipDistanceVariable.cpp",
            "#thirdparty/metalangle/src/compiler/translator/Diagnostics.cpp",
            "#thirdparty/metalangle/src/libANGLE/Thread.cpp",
            "#thirdparty/metalangle/src/compiler/translator/BuiltinsWorkaroundGLSL.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/DeferGlobalInitializers.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/RewriteRowMajorMatrices.cpp",
            "#thirdparty/metalangle/src/libANGLE/Renderbuffer.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/ClampFragDepth.cpp",
            "#thirdparty/metalangle/src/compiler/translator/OutputGLSLBase.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/load_functions_table_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_util/FindSymbolNode.cpp",
            "#thirdparty/metalangle/src/libANGLE/validationES.cpp",
            "#thirdparty/metalangle/src/compiler/translator/ValidateSwitch.cpp",
            "#thirdparty/metalangle/src/compiler/translator/tree_ops/EmulateMultiDrawShaderBuiltins.cpp",
            "#thirdparty/metalangle/src/libANGLE/entry_points_enum_autogen.cpp",
            "#thirdparty/metalangle/src/libANGLE/GLES1State.cpp",
            "#thirdparty/metalangle/src/libANGLE/LoggingAnnotator.cpp",
            "#thirdparty/metalangle/src/libANGLE/es3_copy_conversion_table_autogen.cpp",
            "#thirdparty/metalangle/src/compiler/translator/SymbolTable.cpp",
            "#thirdparty/metalangle/src/libANGLE/format_map_autogen.cpp",
        ],
    )

    env_thirdparty_3 = p_env_thirdparty.Clone()
    env_thirdparty_3.disable_warnings()
    env_thirdparty_3.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fno-objc-arc",
            "-DLIBANGLE_UTIL_IMPLEMENTATION",
            "-DANGLE_USE_UTIL_LOADER",
            "-DGL_GLES_PROTOTYPES=0",
            "-DEGL_EGL_PROTOTYPES=0",
        ],
    )
    env_thirdparty_3.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/gpu_info_util/SystemInfo_mac.mm",
            "#thirdparty/metalangle/util/osx/OSXWindow.mm",
            "#thirdparty/metalangle/util/osx/OSXPixmap.mm",
        ],
    )

    env_thirdparty_4 = p_env_thirdparty.Clone()
    env_thirdparty_4.disable_warnings()
    env_thirdparty_4.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu++14",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fno-objc-arc",
            "-DANGLE_ENABLE_OPENGL_NULL",
        ],
    )
    env_thirdparty_4.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/BufferGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/MemoryObjectGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/SemaphoreGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/RendererGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/DeviceCGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/VertexArrayGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/DisplayGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/ImageGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/ShaderGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/FenceNVGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/null_functions.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/DispatchTableGL_autogen.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/CompilerGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/BlitGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/PathGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/TextureGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/SyncGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/FramebufferGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/RenderbufferGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/FunctionsGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/renderergl_utils.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/ContextGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/ContextCGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/ClearMultiviewGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/ProgramPipelineGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/StateManagerGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/SurfaceGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/QueryGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/TransformFeedbackGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/formatutilsgl.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/ProgramGL.cpp",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/SamplerGL.cpp",
        ],
    )

    env_thirdparty_5 = p_env_thirdparty.Clone()
    env_thirdparty_5.disable_warnings()
    env_thirdparty_5.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-DLIBEGL_IMPLEMENTATION",
            "-DLIBGLESV2_IMPLEMENTATION",
            "-DLIBANGLE_IMPLEMENTATION",
            "-DSPIRV_CROSS_EXCEPTIONS_TO_ASSERTIONS",
            "-DGL_GLES_PROTOTYPES=1",
            "-DEGL_EGL_PROTOTYPES=1",
            "-DGL_GLEXT_PROTOTYPES",
            "-DEGL_EGLEXT_PROTOTYPES",
        ],
    )
    env_thirdparty_5.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/compiler/translator/TranslatorMetal.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/driver_utils_mac.mm",
        ],
    )

    env_thirdparty_6 = p_env_thirdparty.Clone()
    env_thirdparty_6.disable_warnings()
    env_thirdparty_6.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fvisibility=default",
        ],
    )
    env_thirdparty_6.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/common/system_utils_cocoa.mm",
        ],
    )

    env_thirdparty_7 = p_env_thirdparty.Clone()
    env_thirdparty_7.disable_warnings()
    env_thirdparty_7.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-DLIBEGL_IMPLEMENTATION",
            "-DLIBGLESV2_IMPLEMENTATION",
            "-DLIBANGLE_IMPLEMENTATION",
            "-DSPIRV_CROSS_EXCEPTIONS_TO_ASSERTIONS",
            "-DGL_GLES_PROTOTYPES=1",
            "-DEGL_EGL_PROTOTYPES=1",
            "-DGL_GLEXT_PROTOTYPES",
            "-DEGL_EGLEXT_PROTOTYPES",
            "-fobjc-arc",
            "-fexceptions",
            "-fvisibility=default",
        ],
    )
    env_thirdparty_7.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/ios/xcode/MGLKit/MGLDisplay.mm",
            "#thirdparty/metalangle/ios/xcode/MGLKit/MGLKViewController.mm",
            "#thirdparty/metalangle/ios/xcode/MGLKit/MGLContext.mm",
            "#thirdparty/metalangle/ios/xcode/MGLKit/MGLKView.mm",
            "#thirdparty/metalangle/ios/xcode/MGLKit/MGLLayer.mm",
        ],
    )

    env_thirdparty_8 = p_env_thirdparty.Clone()
    env_thirdparty_8.disable_warnings()
    env_thirdparty_8.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu++14",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fvisibility=default",
        ],
    )
    env_thirdparty_8.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/common/system_utils.cpp",
        ],
    )

    env_thirdparty_9 = p_env_thirdparty.Clone()
    env_thirdparty_9.disable_warnings()
    env_thirdparty_9.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fno-objc-arc",
            "-DANGLE_ENABLE_OPENGL_NULL",
        ],
    )
    env_thirdparty_9.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/RendererCGL.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/WindowSurfaceCGL.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/DisplayCGL.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/PbufferSurfaceCGL.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/gl/cgl/IOSurfaceSurfaceCGL.mm",
        ],
    )

    env_thirdparty_10 = p_env_thirdparty.Clone()
    env_thirdparty_10.disable_warnings()
    env_thirdparty_10.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fno-objc-arc",
            "-DSPIRV_CROSS_EXCEPTIONS_TO_ASSERTIONS",
            "-Wno-unguarded-availability",
            "-Wno-nullability-completeness",
        ],
    )
    env_thirdparty_10.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_buffer_pool.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/SurfaceMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/RenderBufferMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/RenderTargetMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_format_table_autogen.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/ProgramMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_command_buffer.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_utils.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_resources.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_common.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/DisplayMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_format_utils.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/ContextMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_glslang_utils.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/CompilerMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/ImageMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/TextureMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_state_cache.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_render_utils.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/mtl_occlusion_query_pool.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/VertexArrayMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/SyncMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/FrameBufferMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/ShaderMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/TransformFeedbackMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/QueryMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/BufferMtl.mm",
            "#thirdparty/metalangle/src/libANGLE/renderer/metal/SamplerMtl.mm",
        ],
    )

    env_thirdparty_11 = p_env_thirdparty.Clone()
    env_thirdparty_11.disable_warnings()
    env_thirdparty_11.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu++14",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
        ],
    )
    env_thirdparty_11.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/common/MemoryBuffer.cpp",
            "#thirdparty/metalangle/src/common/utilities.cpp",
            "#thirdparty/metalangle/src/common/Float16ToFloat32.cpp",
            "#thirdparty/metalangle/src/common/angleutils.cpp",
            "#thirdparty/metalangle/src/common/android_util.cpp",
            "#thirdparty/metalangle/src/common/uniform_type_info_autogen.cpp",
            "#thirdparty/metalangle/src/common/event_tracer.cpp",
            "#thirdparty/metalangle/src/common/third_party/smhasher/src/PMurHash.cpp",
            "#thirdparty/metalangle/src/common/mathutil.cpp",
            "#thirdparty/metalangle/src/common/PoolAlloc.cpp",
            "#thirdparty/metalangle/src/common/string_utils.cpp",
            "#thirdparty/metalangle/src/common/aligned_memory.cpp",
            "#thirdparty/metalangle/src/common/tls.cpp",
            "#thirdparty/metalangle/src/common/PackedEGLEnums_autogen.cpp",
            "#thirdparty/metalangle/src/common/debug.cpp",
            "#thirdparty/metalangle/src/common/matrix_utils.cpp",
            "#thirdparty/metalangle/src/common/PackedEnums.cpp",
            "#thirdparty/metalangle/src/common/PackedGLEnums_autogen.cpp",
            "#thirdparty/metalangle/src/image_util/copyimage.cpp",
            "#thirdparty/metalangle/src/image_util/imageformats.cpp",
            "#thirdparty/metalangle/src/image_util/loadimage_etc.cpp",
            "#thirdparty/metalangle/src/image_util/loadimage.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_cross_parsed_ir.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_cpp.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_cross.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_reflect.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_glsl.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_parser.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_msl.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_cross_util.cpp",
            "#thirdparty/metalangle/third_party/spirv-cross/src/spirv_cfg.cpp",
        ],
    )

    env_thirdparty_12 = p_env_thirdparty.Clone()
    env_thirdparty_12.disable_warnings()
    env_thirdparty_12.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu++14",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
            "-fno-objc-arc",
            "-DLIBANGLE_UTIL_IMPLEMENTATION",
            "-DANGLE_USE_UTIL_LOADER",
            "-DGL_GLES_PROTOTYPES=0",
            "-DEGL_EGL_PROTOTYPES=0",
        ],
    )
    env_thirdparty_12.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/util/Matrix.cpp",
            "#thirdparty/metalangle/src/libEGL/egl_loader_autogen.cpp",
            "#thirdparty/metalangle/util/Timer.cpp",
            "#thirdparty/metalangle/util/geometry_utils.cpp",
            "#thirdparty/metalangle/src/gpu_info_util/SystemInfo.cpp",
            "#thirdparty/metalangle/util/egl_loader_autogen.cpp",
            "#thirdparty/metalangle/util/random_utils.cpp",
            "#thirdparty/metalangle/util/shader_utils.cpp",
            "#thirdparty/metalangle/util/EGLWindow.cpp",
            "#thirdparty/metalangle/util/gles_loader_autogen.cpp",
            "#thirdparty/metalangle/util/posix/crash_handler_posix.cpp",
            "#thirdparty/metalangle/util/OSWindow.cpp",
        ],
    )

    env_thirdparty_13 = p_env_thirdparty.Clone()
    env_thirdparty_13.disable_warnings()
    env_thirdparty_13.Append(
        CPPFLAGS=[
            "-Ithirdparty/metalangle/ios/xcode/gen",
            "-Ithirdparty/metalangle/src",
            "-Ithirdparty/metalangle/src/common/third_party/base/",
            "-Ithirdparty/metalangle/include",
            "-Ithirdparty/metalangle/third_party/glslang/src",
            "-Ithirdparty/metalangle/third_party/spirv-cross/src",
            "-Ithirdparty/metalangle/third_party/jsoncpp/overrides/include",
            "-Ithirdparty/metalangle/third_party/jsoncpp/source/include",
            "-Ithirdparty/metalangle",
            "-fobjc-arc",
            "-std=gnu11",
            "-DNDEBUG",
            "-DANGLE_ENABLE_GLSL",
            "-DANGLE_ENABLE_ESSL",
            "-DANGLE_ENABLE_OPENGL",
            "-DANGLE_ENABLE_METAL",
            "-DJSON_USE_EXCEPTION=0",
            "-Wno-shorten-64-to-32",
        ],
    )
    env_thirdparty_13.add_source_files(
        thirdparty_obj,
        [
            "#thirdparty/metalangle/src/common/third_party/xxhash/xxhash.c",
        ],
    )

    return thirdparty_obj
