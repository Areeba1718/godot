<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Godot: TheoraFrameQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Godot
   </div>
   <div id="projectbrief">Game Engine MIT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_theora_frame_queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TheoraFrameQueue Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_theora_frame_queue_8h_source.html">TheoraFrameQueue.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1be86fbde582c1f21fa9597684ea63c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1be86fbde582c1f21fa9597684ea63c8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TheoraFrameQueue</b> (<a class="el" href="class_theora_video_clip.html">TheoraVideoClip</a> *parent)</td></tr>
<tr class="separator:a1be86fbde582c1f21fa9597684ea63c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1b5def064dab0862c812562b1441d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a7d1b5def064dab0862c812562b1441d4">getFirstAvailableFrame</a> ()</td></tr>
<tr class="memdesc:a7d1b5def064dab0862c812562b1441d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first available frame in the queue or NULL if no frames are available.  <a href="#a7d1b5def064dab0862c812562b1441d4">More...</a><br /></td></tr>
<tr class="separator:a7d1b5def064dab0862c812562b1441d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464ab1bc9fdf377e66f0b2a7079a7b3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a464ab1bc9fdf377e66f0b2a7079a7b3f"></a>
<a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a464ab1bc9fdf377e66f0b2a7079a7b3f">_getFirstAvailableFrame</a> ()</td></tr>
<tr class="memdesc:a464ab1bc9fdf377e66f0b2a7079a7b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">non-mutex version <br /></td></tr>
<tr class="separator:a464ab1bc9fdf377e66f0b2a7079a7b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a58e80325f4c77753e9e4223035223a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a58e80325f4c77753e9e4223035223a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a4a58e80325f4c77753e9e4223035223a">getUsedCount</a> ()</td></tr>
<tr class="memdesc:a4a58e80325f4c77753e9e4223035223a"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the number of used (not ready) frames <br /></td></tr>
<tr class="separator:a4a58e80325f4c77753e9e4223035223a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f24b2f50aebd5e4c561b2241870cb7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78f24b2f50aebd5e4c561b2241870cb7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a78f24b2f50aebd5e4c561b2241870cb7">getReadyCount</a> ()</td></tr>
<tr class="memdesc:a78f24b2f50aebd5e4c561b2241870cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the number of ready frames <br /></td></tr>
<tr class="separator:a78f24b2f50aebd5e4c561b2241870cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840b7d24454d96004d406ac81dd8b026"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a840b7d24454d96004d406ac81dd8b026"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a840b7d24454d96004d406ac81dd8b026">_getReadyCount</a> ()</td></tr>
<tr class="memdesc:a840b7d24454d96004d406ac81dd8b026"><td class="mdescLeft">&#160;</td><td class="mdescRight">non-mutex version <br /></td></tr>
<tr class="separator:a840b7d24454d96004d406ac81dd8b026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59421214e7e2de29afcb1959a62bd064"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a59421214e7e2de29afcb1959a62bd064">pop</a> (int n=1)</td></tr>
<tr class="memdesc:a59421214e7e2de29afcb1959a62bd064"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove the first N available frame from the queue.  <a href="#a59421214e7e2de29afcb1959a62bd064">More...</a><br /></td></tr>
<tr class="separator:a59421214e7e2de29afcb1959a62bd064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a4eb6382a872ec5c21cd77eff09ee0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4a4eb6382a872ec5c21cd77eff09ee0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#ac4a4eb6382a872ec5c21cd77eff09ee0">_pop</a> (int n)</td></tr>
<tr class="memdesc:ac4a4eb6382a872ec5c21cd77eff09ee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an internal _pop function. use externally only in combination with <a class="el" href="class_theora_frame_queue.html#a10f4a81bba1d9753c8cfb496eb37ce16" title="lock the queue&#39;s mutex manually ">lock()</a> / <a class="el" href="class_theora_frame_queue.html#a7f0b36bc7f23500206e737ced9590d6b" title="unlock the queue&#39;s mutex manually ">unlock()</a> calls. <br /></td></tr>
<tr class="separator:ac4a4eb6382a872ec5c21cd77eff09ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80b45a942c8baa16a5ffa79fe19de50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa80b45a942c8baa16a5ffa79fe19de50"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#aa80b45a942c8baa16a5ffa79fe19de50">clear</a> ()</td></tr>
<tr class="memdesc:aa80b45a942c8baa16a5ffa79fe19de50"><td class="mdescLeft">&#160;</td><td class="mdescRight">frees all decoded frames for reuse (does not destroy memory, just marks them as free) <br /></td></tr>
<tr class="separator:aa80b45a942c8baa16a5ffa79fe19de50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508170de2bca6be25f8ef6006f91ba02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a508170de2bca6be25f8ef6006f91ba02"></a>
<a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a508170de2bca6be25f8ef6006f91ba02">requestEmptyFrame</a> ()</td></tr>
<tr class="memdesc:a508170de2bca6be25f8ef6006f91ba02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by WorkerThreads when they need to unload frame data, do not call directly! <br /></td></tr>
<tr class="separator:a508170de2bca6be25f8ef6006f91ba02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6328fd33c58b9ac3d4e90198d6a82736"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a6328fd33c58b9ac3d4e90198d6a82736">setSize</a> (int n)</td></tr>
<tr class="memdesc:a6328fd33c58b9ac3d4e90198d6a82736"><td class="mdescLeft">&#160;</td><td class="mdescRight">set's the size of the frame queue.  <a href="#a6328fd33c58b9ac3d4e90198d6a82736">More...</a><br /></td></tr>
<tr class="separator:a6328fd33c58b9ac3d4e90198d6a82736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71464bb0f0c7d48bff5f4a786ff7c75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa71464bb0f0c7d48bff5f4a786ff7c75"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#aa71464bb0f0c7d48bff5f4a786ff7c75">getSize</a> ()</td></tr>
<tr class="memdesc:aa71464bb0f0c7d48bff5f4a786ff7c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the size of the queue <br /></td></tr>
<tr class="separator:aa71464bb0f0c7d48bff5f4a786ff7c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6c674d228182f3891950e8f41710eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b6c674d228182f3891950e8f41710eb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a1b6c674d228182f3891950e8f41710eb">isFull</a> ()</td></tr>
<tr class="memdesc:a1b6c674d228182f3891950e8f41710eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">return whether all frames in the queue are ready for display <br /></td></tr>
<tr class="separator:a1b6c674d228182f3891950e8f41710eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f4a81bba1d9753c8cfb496eb37ce16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10f4a81bba1d9753c8cfb496eb37ce16"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a10f4a81bba1d9753c8cfb496eb37ce16">lock</a> ()</td></tr>
<tr class="memdesc:a10f4a81bba1d9753c8cfb496eb37ce16"><td class="mdescLeft">&#160;</td><td class="mdescRight">lock the queue's mutex manually <br /></td></tr>
<tr class="separator:a10f4a81bba1d9753c8cfb496eb37ce16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0b36bc7f23500206e737ced9590d6b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f0b36bc7f23500206e737ced9590d6b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#a7f0b36bc7f23500206e737ced9590d6b">unlock</a> ()</td></tr>
<tr class="memdesc:a7f0b36bc7f23500206e737ced9590d6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlock the queue's mutex manually <br /></td></tr>
<tr class="separator:a7f0b36bc7f23500206e737ced9590d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf83a3b044fa7fdfbcc277e81f9e060a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf83a3b044fa7fdfbcc277e81f9e060a"></a>
std::list&lt; <a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#abf83a3b044fa7fdfbcc277e81f9e060a">_getFrameQueue</a> ()</td></tr>
<tr class="memdesc:abf83a3b044fa7fdfbcc277e81f9e060a"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the internal frame queue. Warning: Always lock / unlock queue's mutex before accessing frames directly! <br /></td></tr>
<tr class="separator:abf83a3b044fa7fdfbcc277e81f9e060a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac6238a8a10abce7f014204170062d366"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6238a8a10abce7f014204170062d366"></a>
<a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_theora_frame_queue.html#ac6238a8a10abce7f014204170062d366">createFrameInstance</a> (<a class="el" href="class_theora_video_clip.html">TheoraVideoClip</a> *clip)</td></tr>
<tr class="memdesc:ac6238a8a10abce7f014204170062d366"><td class="mdescLeft">&#160;</td><td class="mdescRight">implementation function that returns a <a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> instance <br /></td></tr>
<tr class="separator:ac6238a8a10abce7f014204170062d366"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3e6b887884aeea9be980bc20ea082fa9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e6b887884aeea9be980bc20ea082fa9"></a>
std::list&lt; <a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mQueue</b></td></tr>
<tr class="separator:a3e6b887884aeea9be980bc20ea082fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca753815f5430434845d7d894a28e34"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ca753815f5430434845d7d894a28e34"></a>
<a class="el" href="class_theora_video_clip.html">TheoraVideoClip</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mParent</b></td></tr>
<tr class="separator:a7ca753815f5430434845d7d894a28e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1649cd0cadbcaaeb661718e6cf64a701"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1649cd0cadbcaaeb661718e6cf64a701"></a>
<a class="el" href="class_theora_mutex.html">TheoraMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mMutex</b></td></tr>
<tr class="separator:a1649cd0cadbcaaeb661718e6cf64a701"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class handles the frame queue. contains frames and handles their alloctation/deallocation it is designed to be thread-safe </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7d1b5def064dab0862c812562b1441d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_theora_video_frame.html">TheoraVideoFrame</a> * TheoraFrameQueue::getFirstAvailableFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the first available frame in the queue or NULL if no frames are available. </p>
<p>This function DOES NOT remove the frame from the queue, you have to do it manually when you want to mark the frame as used by calling the <a class="el" href="class_theora_frame_queue.html#a59421214e7e2de29afcb1959a62bd064" title="remove the first N available frame from the queue. ">pop()</a> function. </p>

</div>
</div>
<a class="anchor" id="a59421214e7e2de29afcb1959a62bd064"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TheoraFrameQueue::pop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove the first N available frame from the queue. </p>
<p>Use this every time you display a frame so you can get the next one when the time comes. This function marks the frame on the front of the queue as unused and it's memory then get's used again in the decoding process. If you don't call this, the frame queue will fill up with precached frames up to the specified amount in the <a class="el" href="class_theora_video_manager.html">TheoraVideoManager</a> class and you won't be able to advance the video. </p>

</div>
</div>
<a class="anchor" id="a6328fd33c58b9ac3d4e90198d6a82736"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TheoraFrameQueue::setSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set's the size of the frame queue. </p>
<p>Beware, currently stored ready frames will be lost upon this call </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>drivers/theoraplayer/include/theoraplayer/<a class="el" href="_theora_frame_queue_8h_source.html">TheoraFrameQueue.h</a></li>
<li>drivers/theoraplayer/src/TheoraFrameQueue.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 21 2015 13:25:04 for Godot by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
